<header>
	<a class='homeLink' href="?p=">
		<p>stitch</p>
	</a>
</header>

<section class="section--devices">
	<div class="container">
		<h2><span>Choose your device</span></h2>
		<p class="notice"><span>Stitch is intended for virtual reality but it may be tried with:</span></p>
		<ul>
			<li>
				<div class="top">
					<svg class="icon icon--cardboard" width="24px" height="24px" viewBox="0 0 24 24">       
			            <path d="M20.6364972,6 L3.19864407,6 C2.54824859,6 2,6.56836937 2,7.26931532 L2,17.7111261 C2,18.4120721 2.54824859,18.9803243 3.22463277,18.9803243 L7.9880226,18.9803243 C8.49875706,18.9803243 8.93649718,18.6564955 9.12045198,18.195991 L10.5055367,14.7287387 C10.739096,14.1440901 11.2949153,13.7327748 11.9435028,13.7327748 C12.5920904,13.7327748 13.1479096,14.1440901 13.3814689,14.7287387 L14.7665537,18.195991 C14.9505085,18.6564955 15.3882486,18.9803243 15.8729944,18.9803243 L20.6364972,18.9803243 C21.3387571,18.9803243 21.8870056,18.4120721 21.8870056,17.7111261 L21.8870056,7.26931532 C21.8870056,6.56836937 21.3387571,6 20.6364972,6 L20.6364972,6 Z M7.43310734,14.7744144 C6.21468927,14.7744144 5.22813559,13.7523333 5.22813559,12.4901622 C5.22813559,11.227991 6.21468927,10.206027 7.43310734,10.206027 C8.65141243,10.206027 9.6359322,11.227991 9.6359322,12.4901622 C9.6359322,13.7523333 8.64926554,14.7744144 7.43310734,14.7744144 L7.43310734,14.7744144 Z M16.4550282,14.7733604 C15.2372881,14.7733604 14.2510734,13.7517477 14.2510734,12.4901622 C14.2510734,11.2286937 15.2372881,10.2070811 16.4550282,10.2070811 C17.6727684,10.2070811 18.6589831,11.2286937 18.6589831,12.4901622 C18.6589831,13.7517477 17.6727684,14.7733604 16.4550282,14.7733604 L16.4550282,14.7733604 Z" fill="#ffffff" ></path>		  
					</svg>

					<h3>Cardboard</h3>
				</div>
				<div class="bottom">
					<p class="setup">Android, iOs</p>
					<div>					
						<p>Go to goo.gl/fEsVJX</p>
						<img src="assets/img/qrcodes/cardboard.png" alt="">
					</div>	
					<a class="vr tour appLink"> 
					    <span>
							<svg viewBox="0 0 20 30">  
								<line fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="7" y1="7" x2="1" y2="13"/>

								<line fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="1" y1="1" x2="7" y2="7"/>
							</svg>
					    </span> 
					</a>
				</div>			
			</li>

			<li>	
				<div class="top">
					<img class="icon icon--gyro" src="assets/img/svg/device.png" alt="">
					<h3>Gyroscope</h3>
				</div>
				<div class="bottom">
					<p class="setup">Android, iOs</p>
					<div>
						<p>Go to goo.gl/eVMWWr</p>
						<img src="assets/img/qrcodes/gyro.png" alt="">
					</div>
					<a class="gyro tour appLink"> 
					    <span>
							<svg viewBox="0 0 20 30">  
								<line fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="7" y1="7" x2="1" y2="13"/>

								<line fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="1" y1="1" x2="7" y2="7"/>
							</svg>
					    </span> 
					</a>
				</div>
			</li>

			<li>
				<div class="top">
					<svg class="icon icon--desktop" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0v19h24v-19h-24zm22 17h-20v-15h20v15zm-6.599 4l2.599 3h-12l2.599-3h6.802z" fill="#fff"/></svg>
					<h3>Computer</h3>
				</div>
				<div class="bottom">
					<p class="setup">Chrome, Firefox, Safari</p>
					<div>
						<p>Go to goo.gl/KhlQPs</p>
					</div>
					<a class="computer tour appLink"> 
					    <span>
							<svg viewBox="0 0 20 30">  
								<line fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="7" y1="7" x2="1" y2="13"/>

								<line fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" x1="1" y1="1" x2="7" y2="7"/>
							</svg>
					    </span> 
					</a>
				</div>
			</li>
			<li>
				<div class="top">
					<svg class="icon icon--vr" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><g><path fill="#ffffff" d="M256.016,98.943C153.989,98.943,62.463,159.723,0.013,256c62.45,96.278,153.977,157.057,256.003,157.057   c102.011,0,193.538-60.778,255.972-157.057C449.553,159.723,358.026,98.943,256.016,98.943z M256.016,354.151   c-54.123,0-98.136-44.029-98.136-98.152s44.013-98.151,98.136-98.151c54.091,0,98.136,44.028,98.136,98.151   S310.106,354.151,256.016,354.151z"/><path fill="#ffffff" d="M256.016,197.111c-32.467,0-58.872,26.421-58.872,58.888c0,32.468,26.405,58.904,58.872,58.904   c32.45,0,58.872-26.438,58.872-58.904S288.466,197.111,256.016,197.111z"/></g></svg>
					<h3>VR devices</h3>
				</div>
				<div class="bottom">
					<p class="setup">Optimised for Occulus</p>
					<div>
						<p>Go to goo.gl/Akucez</p>
					</div>
				</div>
			</li>
		</ul>
	</div>
</section>

<script src="assets/js/jquery-2.2.3.min.js"></script>
<script>
	// detect device
	var is_firefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;

	if (is_firefox) {
		$('.section--devices li:nth-child(3)').addClass('authorised');
	}
	
	if (window.DeviceOrientationEvent) {
	
	  window.addEventListener('deviceorientation', function(eventData) {
	    
	    var tiltLR = eventData.gamma;

	    if (tiltLR) {
	    	$('.section--devices li:nth-child(1)').addClass('authorised');
		    $('.section--devices li:nth-child(2)').addClass('authorised');
	    }
	    else {
	    	$('.section--devices li:nth-child(3)').addClass('authorised');
	    }

	  }, false);
	} 
	else {
	  $('.section--devices li:nth-child(3)').addClass('authorised');
	}



	$('li').hover(function(e) {
		$(this).closest('li').toggleClass('active');
	}); 

	$('.homeLink').click(function(e) {
		e.preventDefault();
		$('body').addClass('homeLink--clicked');

		setTimeout(function(){
			window.location.href = "/";
		}, 1000);
	});

	$('.appLink').click(function(e) {
		e.preventDefault();
		$('body').addClass('homeLink--clicked');

		var el = this;
		setTimeout(function(){
			
			if (el.classList[0] == 'vr') {
				window.location.href = "?p=appvr";
			}
			else if (el.classList[0] == 'gyro') {
				window.location.href = "?p=appgyro";
			}
			else if (el.classList[0] == 'computer') {
				window.location.href = "?p=app";
			}
			
		}, 1000);
	});
</script>
