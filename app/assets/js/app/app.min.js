function doneCallback(){drawTutorial()}function animate(e){Math.min(e-lastRender,500);lastRender=e,Reticulum.update(),controls.update(),camera.updateMatrixWorld(),manager.render(scene,camera,e),requestAnimationFrame(animate),updateParticles(),TWEEN.update(e)}function onResize(e){effect.setSize(window.innerWidth,window.innerHeight),camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix()}var renderer=new THREE.WebGLRenderer({antialias:!0});renderer.setClearColor(new THREE.Color(12500670,1)),document.body.appendChild(renderer.domElement).className="app";var scene=new THREE.Scene;scene.fog=new THREE.FogExp2(12500670,.001);var camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,15e3),controls=new THREE.VRControls(camera),effect=new THREE.VREffect(renderer);effect.setSize(window.innerWidth,window.innerHeight);var params={hideButton:!1,isUndistorted:!0},manager=new WebVRManager(renderer,effect,params),particles=[],floorMaterial=new THREE.MeshLambertMaterial({color:16777215,wireframe:!0,transparent:!0,opacity:.2,overdraw:.5}),floorGeometry=new THREE.PlaneGeometry(1e4,1e4,100,100),floor=new THREE.Mesh(floorGeometry,floorMaterial);floor.name="floor",floor.position.y=-100,floor.rotation.x=Math.PI/2,scene.add(floor),Reticulum.init(camera,{proximity:!1,clickevents:!1,near:null,far:null,reticle:{visible:!0,restPoint:.9,color:0,innerRadius:1e-4,outerRadius:.004,hover:{color:0,innerRadius:.0101,outerRadius:.014,speed:3,vibrate:0}},fuse:{visible:!0,duration:1,color:0,innerRadius:.025,outerRadius:.035,vibrate:0,clickCancelFuse:!1}}),scene.add(camera);var check_interval=100,count=0,html=$("html"),font_loaded_check_interval,check_load_status=function(e){return html.hasClass("wf-active")?(font_loaded_check_interval&&(clearInterval(font_loaded_check_interval),font_loaded_check_interval=null),e.call(this),!0):(count++,!1)};check_load_status(doneCallback)||(font_loaded_check_interval=setInterval(function(){check_load_status(doneCallback)},check_interval));var lastRender=0;animate(performance?performance.now():Date.now()),window.addEventListener("resize",onResize,!0),window.addEventListener("vrdisplaypresentchange",onResize,!0);
var webaudio=new WebAudio,sound1=webaudio.createSound(),sound82=webaudio.createSound(),sound87=webaudio.createSound(),sound63=webaudio.createSound(),sound2=webaudio.createSound(),sound3=webaudio.createSound(),sound4=webaudio.createSound(),sound5=webaudio.createSound(),sound6=webaudio.createSound(),sound7=webaudio.createSound(),sound8=webaudio.createSound(),sound9=webaudio.createSound(),sound10=webaudio.createSound(),sound11=webaudio.createSound(),sound12=webaudio.createSound(),sound13=webaudio.createSound(),sound14=webaudio.createSound(),sound15=webaudio.createSound(),sound16=webaudio.createSound(),sound17=webaudio.createSound(),sound18=webaudio.createSound(),sound19=webaudio.createSound(),sound20=webaudio.createSound(),sound21=webaudio.createSound(),sound22=webaudio.createSound(),sound23=webaudio.createSound(),sound24=webaudio.createSound(),sound25=webaudio.createSound(),sound26=webaudio.createSound(),sound27=webaudio.createSound(),sound28=webaudio.createSound(),sound29=webaudio.createSound(),sound30=webaudio.createSound(),sound31=webaudio.createSound(),sound32=webaudio.createSound(),sound33=webaudio.createSound(),sound34=webaudio.createSound(),sound35=webaudio.createSound(),sound36=webaudio.createSound(),sound37=webaudio.createSound(),sound38=webaudio.createSound(),sound39=webaudio.createSound(),sound40=webaudio.createSound(),sound41=webaudio.createSound(),sound42=webaudio.createSound(),sound43=webaudio.createSound(),sound44=webaudio.createSound(),sound45=webaudio.createSound(),sound46=webaudio.createSound(),sound47=webaudio.createSound(),sound48=webaudio.createSound(),sound49=webaudio.createSound(),sound50=webaudio.createSound(),sound51=webaudio.createSound(),sound52=webaudio.createSound(),sound53=webaudio.createSound(),sound54=webaudio.createSound(),sound55=webaudio.createSound(),sound56=webaudio.createSound(),sound57=webaudio.createSound(),sound58=webaudio.createSound(),sound59=webaudio.createSound(),sound60=webaudio.createSound(),sound61=webaudio.createSound(),sound62=webaudio.createSound(),sound64=webaudio.createSound(),sound65=webaudio.createSound(),sound66=webaudio.createSound(),sound67=webaudio.createSound(),sound68=webaudio.createSound(),sound69=webaudio.createSound(),sound70=webaudio.createSound(),sound71=webaudio.createSound(),sound72=webaudio.createSound(),sound73=webaudio.createSound(),sound74=webaudio.createSound(),sound75=webaudio.createSound(),sound76=webaudio.createSound(),sound77=webaudio.createSound(),sound78=webaudio.createSound(),sound79=webaudio.createSound(),sound80=webaudio.createSound(),sound81=webaudio.createSound(),sound83=webaudio.createSound(),sound84=webaudio.createSound(),sound85=webaudio.createSound(),sound86=webaudio.createSound(),sound88=webaudio.createSound(),sound89=webaudio.createSound(),sound90=webaudio.createSound(),sound91=webaudio.createSound(),sound92=webaudio.createSound(),sound93=webaudio.createSound();WebAudio.Flow().par(function(a){sound1.load("assets/audio/Bleep_02.wav",a)}).par(function(a){sound82.load("assets/audio/Snare_28.wav",a)}).par(function(a){sound63.load("assets/audio/Kick_02.wav",a)}).par(function(a){sound87.load("assets/audio/StabBass_25.wav",a)}).par(function(a){sound2.load("assets/audio/Bleep_05.wav",a)}).par(function(a){sound3.load("assets/audio/Bleep_07.wav",a)}).par(function(a){sound4.load("assets/audio/Bleep_10.wav",a)}).par(function(a){sound5.load("assets/audio/Bleep_11.wav",a)}).par(function(a){sound6.load("assets/audio/Bleep_14.wav",a)}).par(function(a){sound7.load("assets/audio/Bleep_15.wav",a)}).par(function(a){sound8.load("assets/audio/Bleep_17.wav",a)}).par(function(a){sound9.load("assets/audio/Bleep_18.wav",a)}).par(function(a){sound10.load("assets/audio/Bleep_19.wav",a)}).par(function(a){sound11.load("assets/audio/Click_02.wav",a)}).par(function(a){sound12.load("assets/audio/Click_03.wav",a)}).par(function(a){sound13.load("assets/audio/Click_05.wav",a)}).par(function(a){sound14.load("assets/audio/Click_07.wav",a)}).par(function(a){sound15.load("assets/audio/Click_08.wav",a)}).par(function(a){sound16.load("assets/audio/Conga_01.wav",a)}).par(function(a){sound17.load("assets/audio/Conga_02.wav",a)}).par(function(a){sound18.load("assets/audio/Conga_09.wav",a)}).par(function(a){sound19.load("assets/audio/Crash_01.wav",a)}).par(function(a){sound20.load("assets/audio/Error_01.wav",a)}).par(function(a){sound21.load("assets/audio/Error_03.wav",a)}).par(function(a){sound22.load("assets/audio/Error_04.wav",a)}).par(function(a){sound23.load("assets/audio/Error_06.wav",a)}).par(function(a){sound24.load("assets/audio/Error_08.wav",a)}).par(function(a){sound25.load("assets/audio/Error_13.wav",a)}).par(function(a){sound26.load("assets/audio/Error_14.wav",a)}).par(function(a){sound27.load("assets/audio/Error_17.wav",a)}).par(function(a){sound28.load("assets/audio/Error_19.wav",a)}).par(function(a){sound29.load("assets/audio/Error_20.wav",a)}).par(function(a){sound30.load("assets/audio/Error_23.wav",a)}).par(function(a){sound31.load("assets/audio/Error_26.wav",a)}).par(function(a){sound32.load("assets/audio/Error_28.wav",a)}).par(function(a){sound33.load("assets/audio/FX_01.wav",a)}).par(function(a){sound34.load("assets/audio/FX_04.wav",a)}).par(function(a){sound35.load("assets/audio/FX_06.wav",a)}).par(function(a){sound36.load("assets/audio/FX_09.wav",a)}).par(function(a){sound37.load("assets/audio/FX_11.wav",a)}).par(function(a){sound38.load("assets/audio/FX_12.wav",a)}).par(function(a){sound39.load("assets/audio/FX_13.wav",a)}).par(function(a){sound40.load("assets/audio/FX_14.wav",a)}).par(function(a){sound41.load("assets/audio/FX_17.wav",a)}).par(function(a){sound42.load("assets/audio/FX_18.wav",a)}).par(function(a){sound43.load("assets/audio/FX_19.wav",a)}).par(function(a){sound44.load("assets/audio/FX_20.wav",a)}).par(function(a){sound45.load("assets/audio/Glitch_01.wav",a)}).par(function(a){sound46.load("assets/audio/Glitch_02.wav",a)}).par(function(a){sound47.load("assets/audio/Glitch_03.wav",a)}).par(function(a){sound48.load("assets/audio/Glitch_04.wav",a)}).par(function(a){sound49.load("assets/audio/Glitch_06.wav",a)}).par(function(a){sound50.load("assets/audio/Glitch_08.wav",a)}).par(function(a){sound51.load("assets/audio/Glitch_09.wav",a)}).par(function(a){sound52.load("assets/audio/Glitch_10.wav",a)}).par(function(a){sound53.load("assets/audio/Glitch_11.wav",a)}).par(function(a){sound54.load("assets/audio/Glitch_13.wav",a)}).par(function(a){sound55.load("assets/audio/Glitch_15.wav",a)}).par(function(a){sound56.load("assets/audio/Glitch_16.wav",a)}).par(function(a){sound57.load("assets/audio/Glitch_17.wav",a)}).par(function(a){sound58.load("assets/audio/Glitch_19.wav",a)}).par(function(a){sound59.load("assets/audio/Glitch_21.wav",a)}).par(function(a){sound60.load("assets/audio/HH_02.wav",a)}).par(function(a){sound61.load("assets/audio/HH_09.wav",a)}).par(function(a){sound62.load("assets/audio/HH_10.wav",a)}).par(function(a){sound64.load("assets/audio/Kick_03.wav",a)}).par(function(a){sound65.load("assets/audio/Kick_10.wav",a)}).par(function(a){sound66.load("assets/audio/Kick_11.wav",a)}).par(function(a){sound67.load("assets/audio/Kick_12.wav",a)}).par(function(a){sound68.load("assets/audio/Kick_17.wav",a)}).par(function(a){sound69.load("assets/audio/Kick_21.wav",a)}).par(function(a){sound70.load("assets/audio/Kick_22.wav",a)}).par(function(a){sound71.load("assets/audio/OH_01.wav",a)}).par(function(a){sound72.load("assets/audio/OH_03.wav",a)}).par(function(a){sound73.load("assets/audio/OH_05.wav",a)}).par(function(a){sound74.load("assets/audio/Rimshot_04.wav",a)}).par(function(a){sound75.load("assets/audio/Shake_01.wav",a)}).par(function(a){sound76.load("assets/audio/Snare_04.wav",a)}).par(function(a){sound77.load("assets/audio/Snare_06.wav",a)}).par(function(a){sound78.load("assets/audio/Snare_10.wav",a)}).par(function(a){sound79.load("assets/audio/Snare_12.wav",a)}).par(function(a){sound80.load("assets/audio/Snare_16.wav",a)}).par(function(a){sound81.load("assets/audio/Snare_17.wav",a)}).par(function(a){sound83.load("assets/audio/StabBass_19.wav",a)}).par(function(a){sound84.load("assets/audio/StabBass_20.wav",a)}).par(function(a){sound85.load("assets/audio/StabBass_22.wav",a)}).par(function(a){sound86.load("assets/audio/StabBass_24.wav",a)}).par(function(a){sound88.load("assets/audio/StabBass_28.wav",a)}).par(function(a){sound89.load("assets/audio/StabSynth_07.wav",a)}).par(function(a){sound90.load("assets/audio/StabSynth_14.wav",a)}).par(function(a){sound91.load("assets/audio/Tom_03.wav",a)}).par(function(a){sound92.load("assets/audio/Tom_07.wav",a)}).par(function(a){sound93.load("assets/audio/Tom_11.wav",a)}).seq(function(){console.assert(sound87.isPlayable()),console.assert(sound82.isPlayable()),console.assert(sound1.isPlayable()),console.assert(sound2.isPlayable()),console.assert(sound63.isPlayable()),console.assert(sound3.isPlayable()),console.assert(sound4.isPlayable()),console.assert(sound5.isPlayable()),console.assert(sound6.isPlayable()),console.assert(sound7.isPlayable()),console.assert(sound8.isPlayable()),console.assert(sound9.isPlayable()),console.assert(sound10.isPlayable()),console.assert(sound11.isPlayable()),console.assert(sound12.isPlayable()),console.assert(sound13.isPlayable()),console.assert(sound14.isPlayable()),console.assert(sound15.isPlayable()),console.assert(sound16.isPlayable()),console.assert(sound17.isPlayable()),console.assert(sound18.isPlayable()),console.assert(sound19.isPlayable()),console.assert(sound20.isPlayable()),console.assert(sound21.isPlayable()),console.assert(sound22.isPlayable()),console.assert(sound23.isPlayable()),console.assert(sound24.isPlayable()),console.assert(sound25.isPlayable()),console.assert(sound26.isPlayable()),console.assert(sound27.isPlayable()),console.assert(sound28.isPlayable()),console.assert(sound29.isPlayable()),console.assert(sound30.isPlayable()),console.assert(sound31.isPlayable()),console.assert(sound32.isPlayable()),console.assert(sound33.isPlayable()),console.assert(sound34.isPlayable()),console.assert(sound35.isPlayable()),console.assert(sound36.isPlayable()),console.assert(sound37.isPlayable()),console.assert(sound38.isPlayable()),console.assert(sound39.isPlayable()),console.assert(sound40.isPlayable()),console.assert(sound41.isPlayable()),console.assert(sound42.isPlayable()),console.assert(sound43.isPlayable()),console.assert(sound44.isPlayable()),console.assert(sound45.isPlayable()),console.assert(sound46.isPlayable()),console.assert(sound47.isPlayable()),console.assert(sound48.isPlayable()),console.assert(sound49.isPlayable()),console.assert(sound50.isPlayable()),console.assert(sound51.isPlayable()),console.assert(sound52.isPlayable()),console.assert(sound53.isPlayable()),console.assert(sound54.isPlayable()),console.assert(sound55.isPlayable()),console.assert(sound56.isPlayable()),console.assert(sound57.isPlayable()),console.assert(sound58.isPlayable()),console.assert(sound59.isPlayable()),console.assert(sound60.isPlayable()),console.assert(sound61.isPlayable()),console.assert(sound62.isPlayable()),console.assert(sound64.isPlayable()),console.assert(sound65.isPlayable()),console.assert(sound66.isPlayable()),console.assert(sound67.isPlayable()),console.assert(sound68.isPlayable()),console.assert(sound69.isPlayable()),console.assert(sound70.isPlayable()),console.assert(sound71.isPlayable()),console.assert(sound72.isPlayable()),console.assert(sound73.isPlayable()),console.assert(sound74.isPlayable()),console.assert(sound75.isPlayable()),console.assert(sound76.isPlayable()),console.assert(sound77.isPlayable()),console.assert(sound78.isPlayable()),console.assert(sound79.isPlayable()),console.assert(sound80.isPlayable()),console.assert(sound81.isPlayable()),console.assert(sound83.isPlayable()),console.assert(sound84.isPlayable()),console.assert(sound85.isPlayable()),console.assert(sound86.isPlayable()),console.assert(sound88.isPlayable()),console.assert(sound89.isPlayable()),console.assert(sound90.isPlayable()),console.assert(sound91.isPlayable()),console.assert(sound92.isPlayable()),console.assert(sound93.isPlayable())});
function drawApp(){makeParticles()}function makeParticles(){function e(n){n.x>-80&&n.x<80&&n.y>-80&&n.y<80&&(n.x=1e3*Math.random()-500,n.y=1e3*Math.random()-500,e(n))}function n(e){var n={x:.01},t=new TWEEN.Tween(n).to({x:1},500),i={z:0},a=new TWEEN.Tween(i).to({z:-3.14159},500),o={y:0},r=new TWEEN.Tween(o).to({y:100},500),c={x:0},s=new TWEEN.Tween(c).to({x:100},500),l={y:0},p=new TWEEN.Tween(l).to({y:-100},500),d={x:0},h=new TWEEN.Tween(d).to({x:-100},500);t.onUpdate(function(){e.children[0].scale.set(n.x,n.x,n.x),e.children[1].scale.set(n.x,n.x,n.x),e.children[2].scale.set(n.x,n.x,n.x),e.children[3].scale.set(n.x,n.x,n.x)}),t.start(),a.onUpdate(function(){e.rotation.z=i.z}),a.start(),r.onUpdate(function(){e.children[0].position.y=o.y}),r.start(),s.onUpdate(function(){e.children[1].position.x=c.x}),s.start(),p.onUpdate(function(){e.children[2].position.y=l.y}),p.start(),h.onUpdate(function(){e.children[3].position.x=d.x}),h.start()}function t(e){var n={x:1},t=new TWEEN.Tween(n).to({x:.01},500),i={z:-3.14159},a=new TWEEN.Tween(i).to({z:0},500),o={y:100},r=new TWEEN.Tween(o).to({y:0},500),c={x:100},s=new TWEEN.Tween(c).to({x:0},500),l={y:-100},p=new TWEEN.Tween(l).to({y:0},500),d={x:-100},h=new TWEEN.Tween(d).to({x:0},500);t.onUpdate(function(){e.children[0].scale.set(n.x,n.x,n.x),e.children[1].scale.set(n.x,n.x,n.x),e.children[2].scale.set(n.x,n.x,n.x),e.children[3].scale.set(n.x,n.x,n.x)}),t.start(),a.onUpdate(function(){e.rotation.z=i.z}),a.start(),r.onUpdate(function(){e.children[0].position.y=o.y}),r.start(),s.onUpdate(function(){e.children[1].position.x=c.x}),s.start(),p.onUpdate(function(){e.children[2].position.y=l.y}),p.start(),h.onUpdate(function(){e.children[3].position.x=d.x}),h.start()}function i(e){function n(){var e={x:1},n=new TWEEN.Tween(e).to({x:.01},500),t={z:-3.14159},a=new TWEEN.Tween(t).to({z:0},500),o={y:100},r=new TWEEN.Tween(o).to({y:0},500),c={x:100},s=new TWEEN.Tween(c).to({x:0},500),l={y:-100},p=new TWEEN.Tween(l).to({y:0},500),d={x:-100},h=new TWEEN.Tween(d).to({x:0},500);n.onUpdate(function(){i.children[0].scale.set(e.x,e.x,e.x),i.children[1].scale.set(e.x,e.x,e.x),i.children[2].scale.set(e.x,e.x,e.x),i.children[3].scale.set(e.x,e.x,e.x)}),n.start(),a.onUpdate(function(){i.rotation.z=t.z}),a.start(),r.onUpdate(function(){i.children[0].position.y=o.y}),r.start(),s.onUpdate(function(){i.children[1].position.x=c.x}),s.start(),p.onUpdate(function(){i.children[2].position.y=l.y}),p.start(),h.onUpdate(function(){i.children[3].position.x=d.x}),h.start()}var t=window[e.sound],i=new THREE.Group;i.name="tempoMenu";for(var a=0;4>a;a++){var o=new THREE.CircleGeometry(25,32),r=new THREE.MeshBasicMaterial({color:8716543,transparent:!0,opacity:.75}),c=new THREE.Mesh(o,r);c.buttonId=a;var s=new THREE.CircleGeometry(5,32),l=new THREE.MeshBasicMaterial({color:16777215,transparent:!0,opacity:.75}),p=new THREE.Mesh(s,l),d=new THREE.Group;switch(d.name="dots",a){case 0:break;case 1:var h=new THREE.Mesh(s,l);p.position.x=-8,h.position.x=8,d.add(h);break;case 2:var h=new THREE.Mesh(s,l),E=new THREE.Mesh(s,l);p.position.y=8,h.position.x=-8,E.position.x=8,h.position.y=-4,E.position.y=-4,d.add(h),d.add(E);break;case 3:var h=new THREE.Mesh(s,l),E=new THREE.Mesh(s,l),x=new THREE.Mesh(s,l);p.position.x=-11,h.position.x=11,E.position.y=-11,x.position.y=11,d.add(h),d.add(E),d.add(x)}d.add(p),d.position.z=.5,c.add(d),Reticulum.add(c,{clickCancelFuse:!1,reticleHoverColor:16777215,fuseVisible:!0,fuseDuration:1,fuseColor:16777215,onGazeOver:function(){if(i.parent.tempoVisible){this.parent.parent.hovered=!0;var e={x:1,y:1,a:.5},n=new TWEEN.Tween(e).to({x:2,y:2,a:1},750).easing(TWEEN.Easing.Elastic.Out),t=this;n.onUpdate(function(){t.scale.x=e.x,t.scale.y=e.y,t.material.opacity=e.a}),n.start()}},onGazeOut:function(){if(this.parent.parent.hovered=!1,i.parent.tempoVisible){var e={x:2,y:2,a:1},n=new TWEEN.Tween(e).to({x:1,y:1,a:.5},750).easing(TWEEN.Easing.Elastic.Out),t=this;n.onUpdate(function(){t.scale.x=e.x,t.scale.y=e.y,t.material.opacity=e.a}),n.start()}},onGazeLong:function(){n(),this.parent.parent.tempoVisible=!1,playLoopedSound(t,this)}}),i.add(c)}e.add(i),e.hasTempo=!0}function a(e,n){var t={x:.01,y:.01,z:.01},i=new TWEEN.Tween(t).to({x:1,y:1,z:1},750).easing(TWEEN.Easing.Elastic.Out);setTimeout(function(){var n=e;i.onUpdate(function(){n.scale.set(t.x,t.y,t.z)}),i.start()},n)}var o=new THREE.Group;o.name="particles";for(var r,c=0,s=new THREE.MeshLambertMaterial({color:8716543,wireframe:!0,transparent:!0}),l=new THREE.MeshPhongMaterial({color:16777215,overdraw:.5,shading:THREE.FlatShading}),p=[l,s],d=-1500;1500>d;d+=20){switch(5>c?c+=1:c=0,c){case 0:var r=THREE.SceneUtils.createMultiMaterialObject(new THREE.OctahedronGeometry(20,0),p);break;case 1:var r=THREE.SceneUtils.createMultiMaterialObject(new THREE.IcosahedronGeometry(20,0),p);break;case 2:var r=THREE.SceneUtils.createMultiMaterialObject(new THREE.TetrahedronGeometry(20,0),p);break;case 3:var r=THREE.SceneUtils.createMultiMaterialObject(new THREE.CubeGeometry(20,20,20,1,1,1),p);break;case 4:var r=THREE.SceneUtils.createMultiMaterialObject(new THREE.CylinderGeometry(0,20,50,4,4),p);break;case 5:var r=THREE.SceneUtils.createMultiMaterialObject(new THREE.IcosahedronGeometry(20,1),p)}r.name="particle",r.children[0].name="shape",r.children[1].name="wireframe",r.position.x=1e3*Math.random()-500,r.position.y=1e3*Math.random()-500,r.scale.set(.001,.001,.001),e(r.position),r.position.z=d,scene.add(o),o.add(r),particles.push(r)}for(var h=0;h<particles.length;h++){var E=particles[h].getObjectByName("shape"),x=particles[h].getObjectByName("wireframe"),y=getRandomInt(0,6.2),u=getRandomInt(0,6.2),T=getRandomInt(0,6.2);E.rotation.set(y,u,T),x.rotation.set(y,u,T),x.scale.set(.01,.01,.01),particles[h].sound=chooseRandomSound(),particles[h].playing=!1,particles[h].action=0,particles[h].hasTempo=!1,particles[h].tempoVisible=!1,Reticulum.add(E,{clickCancelFuse:!1,reticleHoverColor:16777215,fuseVisible:!0,fuseDuration:1.5,fuseColor:16777215,onGazeOver:function(){shapeHover(this);var e=window[this.parent.sound],n=e._context,t=e._source,i=e._panner;i.panningModel="HRTF",i.refDistance=150,t.connect(i),i.connect(n.destination),e.play()},onGazeOut:function(){this.parent.action=0,shapeStopHover(this)},onGazeLong:function(){if(this.parent.hasTempo||i(this.parent),this.parent.action+=1,1==this.parent.action){var e=this.parent.getObjectByName("tempoMenu");this.parent.playing||this.parent.tempoVisible?!this.parent.playing&&this.parent.tempoVisible&&(this.parent.tempoVisible=!1,t(e)):(this.parent.tempoVisible=!0,n(e)),explode(this.parent.children[1],this.parent.sound)}}})}for(var w=0;w<o.children.length;w++)if(.001==o.children[w].scale.x){var f=100*w;a(o.children[w],f)}}function shapeHover(e){e.parent.hovered=!0;var n={x:1,y:1,z:1},t=new TWEEN.Tween(n).to({x:1.5,y:1.5,z:1.5},200);t.onUpdate(function(){e.scale.set(n.x,n.y,n.z)}),t.start()}function shapeStopHover(e){e.parent.hovered=!1;var n={x:1.5,y:1.5,z:1.5},t=new TWEEN.Tween(n).to({x:1,y:1,z:1},200);t.onUpdate(function(){e.scale.set(n.x,n.y,n.z)}),t.start()}function explode(e,n){var t={x:4,y:4,z:4},i=new TWEEN.Tween(t).to({x:1,y:1,z:1},750).easing(TWEEN.Easing.Elastic.In);n=window[n],e.parent.playing?(e.parent.playing=!1,sound8.play(),3!==scene.step?e.parent.children[2].visible||(i.onUpdate(function(){e.scale.set(t.x,t.y,t.z)}),i.start()):e.parent.children[2].visible||(i.onUpdate(function(){e.scale.set(t.x,t.y,t.z)}),i.start())):n.play()}function playLoopedSound(e,n){var t,i=n.buttonId;if(3!==scene.step)var a={x:4,y:4,z:4},o=new TWEEN.Tween(a).to({x:.01,y:.01,z:.01},750).easing(TWEEN.Easing.Elastic.In),r={x:1,y:1,z:1},c=new TWEEN.Tween(r).to({x:4,y:4,z:4},750).easing(TWEEN.Easing.Elastic.Out);else var a={x:1.5,y:1.5,z:1.5},o=new TWEEN.Tween(a).to({x:.01,y:.01,z:.01},750).easing(TWEEN.Easing.Elastic.In),r={x:1,y:1,z:1},c=new TWEEN.Tween(r).to({x:1.5,y:1.5,z:1.5},750).easing(TWEEN.Easing.Elastic.Out);t=0==i?4e3:1==i?2e3:2==i?1e3:500,setTimeout(function(){function i(){n.parent.parent.playing||(t=0),setTimeout(function(){n.parent.parent.playing&&(e.play(),i()),n.parent.parent.playing||(o.onUpdate(function(){n.parent.parent.children[1].scale.set(a.x,a.y,a.z)}),o.start(),3!==scene.step&&n.parent.parent.children[4]&&(n.parent.parent.children[2].visible=!1))},t)}if(n.parent.parent.playing=!0,e.play(),c.onUpdate(function(){n.parent.parent.children[1].scale.set(r.x,r.y,r.z)}),c.start(),3!==scene.step){new THREE.PointLight(3342438,10.76,500)}i()},500)}function chooseRandomSound(){var e=getRandomInt(1,93),n="sound"+e.toString();return n}function getRandomInt(e,n){return Math.floor(Math.random()*(n-e+1))+e}function updateParticles(){var e,n,t,i=TWEEN.Easing.Linear.None;n=camera.getWorldDirection(),t=new THREE.Vector3(0,1,0).applyEuler(camera.getWorldRotation());for(var a=0;a<particles.length;a++){particle=particles[a],particle.hovered||(particle.position.z+=1),particle.children.length>=3&&particle.children[2].lookAtWorld(camera.getWorldPosition()),particle.children[0].rotation.x+=.025,particle.children[0].rotation.z+=.025,particle.children[1].rotation.x+=.025,particle.children[1].rotation.z+=.025,particle.position.z>2e3&&(particle.position.z-=3e3);var e=window[particle.sound];if(particle.playing){var o=e.amplitude();o=i(o),particle.children[0].scale.set(1.3+1.1*o,1.3+1.1*o,1.3+1.1*o)}isDesktop||(e._context.listener.setOrientation(n.x,n.y,n.z,t.x,t.y,t.z),e._panner.setPosition(particle.position.x,particle.position.y,particle.position.z))}if(scene.tutorial){scene.children[5].children[0].rotation.y+=.025,scene.children[5].children[1].rotation.y+=.025,scene.children[5].children[2].rotation.y+=.025,scene.children[5].children[3].rotation.y+=.025;for(var a=0;4>a;a++)if(3==scene.children[5].children[a].children.length&&scene.children[5].children[a].children[2].lookAtWorld(camera.getWorldPosition()),scene.children[5].children[a].playing){var e=window[scene.children[5].children[a].sound],o=e.amplitude();o=i(o),scene.children[5].children[a].children[0].scale.set(1+1.1*o,1+1.1*o,1+1.1*o),scene.children[5].children[a].children[1].scale.set(3,3,3)}if(!(scene.children[5].children[0].hovered||scene.children[5].children[1].hovered||scene.children[5].children[2].hovered||scene.children[5].children[3].hovered))for(var a=0;4>a;a++)0==scene.children[5].direction&&(scene.children[5].children[a].position.y+=-.007),1==scene.children[5].direction&&(scene.children[5].children[a].position.y+=.007),scene.children[5].children[a].position.y<-.5&&(scene.children[5].direction=1),scene.children[5].children[a].position.y>1&&(scene.children[5].direction=0)}}THREE.Object3D.prototype.lookAtWorld=function(e){this.parent.worldToLocal(e),this.lookAt(e)},$("body").hasClass("app");var isDesktop=!1;$("body").hasClass("app")&&(isDesktop=!0);
function drawTutorial(){function e(e){var n={x:1,y:1,z:1},t=new TWEEN.Tween(n).to({x:1.3,y:1.3,z:1.3},100);t.onUpdate(function(){e.scale.set(n.x,n.y,n.z)}),t.start()}function n(e){var n={x:1.3,y:1.3,z:1.3},t=new TWEEN.Tween(n).to({x:1,y:1,z:1},100);t.onUpdate(function(){e.scale.set(n.x,n.y,n.z)}),t.start()}function t(e){var n={x:1,y:1,z:1},t=new TWEEN.Tween(n).to({x:1.3,y:1.3,z:1.3},100);t.onUpdate(function(){e.parent.children[1].scale.set(n.x,n.y,n.z),e.parent.children[0].scale.set(n.x,n.y,n.z)}),t.start()}function i(e){var n={x:1.3,y:1.3,z:1.3},t=new TWEEN.Tween(n).to({x:1,y:1,z:1},100);t.onUpdate(function(){e.parent.children[0].scale.set(n.x,n.y,n.z),e.parent.children[1].scale.set(n.x,n.y,n.z)}),t.start()}function r(t){scene.step=2,o(s.children[3]),o(s.children[4]),o(s.children[5]),o(s.children[2]),setTimeout(function(){Reticulum.remove(s.children[3].children[0]),Reticulum.remove(s.children[4].children[0]),Reticulum.remove(s.children[5].children[0]),Reticulum.remove(s.children[2].children[0]),Reticulum.remove(s.children[3].children[1].children[0]),Reticulum.remove(s.children[4].children[1].children[0]),Reticulum.remove(s.children[5].children[1].children[0]),Reticulum.remove(s.children[2].children[1].children[0])},500),setTimeout(function(){s.children[3].remove(s.children[3].children[0]),s.children[4].remove(s.children[4].children[0]),s.children[5].remove(s.children[5].children[0]),s.children[2].remove(s.children[2].children[0]),a(s.children[3],"In stitch, each sound is represented by a 3D shape.","You can select and play them just by looking at them."),a(s.children[4],"In stitch, each sound is represented by a 3D shape.","You can select and play them just by looking at them."),a(s.children[5],"In stitch, each sound is represented by a 3D shape.","You can select and play them just by looking at them."),a(s.children[2],"In stitch, each sound is represented by a 3D shape.","You can select and play them just by looking at them.")},1500),setTimeout(function(){function t(e){e.visible=!0,e.children[0].visible=!0,e.children[1].visible=!0,e.children[2].visible=!0,e.children[3].visible=!0;var n={x:.01},t=new TWEEN.Tween(n).to({x:1},500),i={z:0},r=new TWEEN.Tween(i).to({z:-3.14159},500),o={y:0},a=new TWEEN.Tween(o).to({y:.5},500),c={x:0},s=new TWEEN.Tween(c).to({x:.5},500),l={y:0},d=new TWEEN.Tween(l).to({y:-.5},500),h={x:0},p=new TWEEN.Tween(h).to({x:-.5},500);t.onUpdate(function(){e.children[0].scale.set(n.x,n.x,n.x),e.children[1].scale.set(n.x,n.x,n.x),e.children[2].scale.set(n.x,n.x,n.x),e.children[3].scale.set(n.x,n.x,n.x)}),t.start(),r.onUpdate(function(){e.rotation.z=i.z}),r.start(),a.onUpdate(function(){e.children[0].position.y=o.y}),a.start(),s.onUpdate(function(){e.children[1].position.x=c.x}),s.start(),d.onUpdate(function(){e.children[2].position.y=l.y}),d.start(),p.onUpdate(function(){e.children[3].position.x=h.x}),p.start()}scene.tutorial=!0;for(var i=new THREE.Group,r=new THREE.MeshBasicMaterial({color:8716543,wireframe:!0,transparent:!0}),o=new THREE.MeshPhongMaterial({color:16777215,overdraw:.5,shading:THREE.FlatShading}),a=[o,r],c=0;4>c;c++){if(0==c){var s=THREE.SceneUtils.createMultiMaterialObject(new THREE.OctahedronGeometry(.2,0),a);s.position.z=-1.4,s.position.x=-1.4,s.sound="sound63"}if(1==c){var s=THREE.SceneUtils.createMultiMaterialObject(new THREE.IcosahedronGeometry(.2,0),a);s.position.z=-1.4,s.position.x=1.4,s.sound="sound2"}if(2==c){var s=THREE.SceneUtils.createMultiMaterialObject(new THREE.TetrahedronGeometry(.2,0),a);s.position.z=1.4,s.position.x=-1.4,s.sound="sound87"}if(3==c){var s=THREE.SceneUtils.createMultiMaterialObject(new THREE.CubeGeometry(.2,.2,.2,1,1,1),a);s.position.z=1.4,s.position.x=1.4,s.sound="sound82"}s.scale.set(.001,.001,.001),s.hovered=!1,s.action=0,s.playing=!1,s.hasTempo=!1,s.tempoVisible=!1,Reticulum.add(s.children[0],{clickCancelFuse:!1,reticleHoverColor:16777215,fuseVisible:!1,fuseDuration:1.5,fuseColor:16777215,onGazeOver:function(){s.hovered=!0,e(this);var n=this.parent.sound;n=window[n],n.play(),2==scene.step?scene.children[1].children[0].children[1].material.visible=!1:3==scene.step&&(scene.children[1].children[0].children[1].material.visible=!0)},onGazeOut:function(){this.parent.action=0,s.hovered=!1,n(this),2==scene.step?scene.children[1].children[0].children[1].material.visible=!0:3==scene.step&&(scene.children[1].children[0].children[1].material.visible=!0)},onGazeLong:function(){this.parent.action+=1,3==scene.step&&(this.parent.hasTempo||createTutTempoMenu(this.parent),1==this.parent.action&&(this.parent.playing||this.parent.tempoVisible?!this.parent.playing&&this.parent.tempoVisible&&(this.parent.tempoVisible=!0,t(this.parent.children[2])):(this.parent.tempoVisible=!0,t(this.parent.children[2])),explode(this.parent.children[1],this.parent.sound)))}}),i.add(s),s.children[1].scale.set(.01,.01,.01)}scene.add(i),setTimeout(function(){var e={x:.01,y:.01,z:.01},n=new TWEEN.Tween(e).to({x:1,y:1,z:1},1250).easing(TWEEN.Easing.Elastic.Out);n.onUpdate(function(){i.children[0].scale.set(e.x,e.y,e.z),i.children[1].scale.set(e.x,e.y,e.z),i.children[2].scale.set(e.x,e.y,e.z),i.children[3].scale.set(e.x,e.y,e.z)}),n.start(),scene.children[5].direction=0},750)},2e3)}function o(e){e.traverse(function(e){if(e.hidden=!1,e.material&&1==e.material.opacity){e.hidden=!0;var n={a:1},t=new TWEEN.Tween(n).to({a:0},1e3);t.onUpdate(function(){e.material.opacity=n.a}),t.start(),setTimeout(function(){e.parent.remove(e)},1e3)}})}function a(t,i,r){var o=new THREE.Group,a=new THREE.Mesh(j,I);a.position.y=.12;var s=new THREE.PlaneGeometry(.6,.15),d=new THREEx.DynamicTexture(4e3,1e3);d.context.font="150px 'source-sans-pro'",d.context.strokeStyle="#ffffff",d.drawText(i,void 0,600,"white");var h=new THREE.MeshBasicMaterial({map:d.texture,transparent:!0}),p=new THREE.Mesh(s,h);p.material.color.r=255,p.material.color.g=255,p.material.color.b=255,p.position.z=.01,p.material.transparent=!0,p.material.opacity=0,p.hidden=!0,a.add(p),o.add(a);var u=new THREE.Mesh(j,I);u.position.y=.02;var E=new THREEx.DynamicTexture(3500,1e3);E.context.font="150px 'source-sans-pro'",E.context.strokeStyle="#ffffff",E.drawText(r,void 0,600,"white");var f=new THREE.MeshBasicMaterial({map:E.texture,transparent:!0}),w=new THREE.Mesh(s,f);w.material.color.r=255,w.material.color.g=255,w.material.color.b=255,w.position.z=.01,w.material.transparent=!0,w.material.opacity=0,w.hidden=!0,u.add(w),o.add(u);var x=new THREE.Mesh(m,T);x.position.z=.02,x.position.y=-.13,x.hidden=!0;var y=new THREEx.DynamicTexture(250,200);y.context.font="60px 'source-sans-pro'",y.context.strokeStyle="#8500ff",y.drawText("Next",void 0,115,"#8500ff");var R=new THREE.MeshBasicMaterial({map:y.texture,transparent:!0,opacity:0}),H=new THREE.Mesh(v,R);H.position.z=.01,H.hidden=!0,x.add(H),o.add(x),t.add(o),Reticulum.add(x,{clickCancelFuse:!1,reticleHoverColor:8716543,fuseVisible:!0,fuseDuration:1.5,fuseColor:8716543,onGazeOver:function(){0==l&&e(this)},onGazeOut:function(){0==l&&n(this)},onGazeLong:function(){function e(e){e.traverse(function(e){if(e.hidden=!1,e.tut=!0,e.material&&0==e.hey){e.hidden=!0;var n={a:1},t=new TWEEN.Tween(n).to({a:0},1e3);t.onUpdate(function(){e.material.opacity=n.a}),t.start(),setTimeout(function(){e.parent.remove(e)},1e3)}})}if(0==l){if(l=1,2==scene.step)c(this);else if(3==scene.step){scene.children[5].children[0].playing=!1,scene.children[5].children[1].playing=!1,scene.children[5].children[2].playing=!1,scene.children[5].children[3].playing=!1,Reticulum.remove(scene.children[4].children[2].children[2].children[2]),Reticulum.remove(scene.children[4].children[3].children[2].children[2]),Reticulum.remove(scene.children[4].children[4].children[2].children[2]),Reticulum.remove(scene.children[4].children[5].children[2].children[2]),Reticulum.remove(scene.children[5].children[0].children[0]),Reticulum.remove(scene.children[5].children[1].children[0]),Reticulum.remove(scene.children[5].children[2].children[0]),Reticulum.remove(scene.children[5].children[3].children[0]),setTimeout(function(){e(scene.children[4]),e(scene.children[5])},4500),scene.children[4].traverse(function(e){if(e.material&&1==e.material.opacity){var n={a:1},t=new TWEEN.Tween(n).to({a:0},1e3);t.onUpdate(function(){e.material.opacity=n.a}),t.start()}});var n={a:1},t=new TWEEN.Tween(n).to({a:.001},1e3);t.onUpdate(function(){scene.children[5].children[0].scale.set(n.a,n.a,n.a),scene.children[5].children[1].scale.set(n.a,n.a,n.a),scene.children[5].children[2].scale.set(n.a,n.a,n.a),scene.children[5].children[3].scale.set(n.a,n.a,n.a)}),t.start(),setTimeout(function(){scene.step=0,drawApp()},1e3)}l=0}}}),t.traverse(function(e){if(e.material&&0==e.material.opacity&&e.hidden){e.hidden=!1;var n={a:0},t=new TWEEN.Tween(n).to({a:1},1500);t.onUpdate(function(){e.material.opacity=n.a}),t.start()}})}function c(e){scene.step=3,Reticulum.remove(e.parent.parent.parent.children[2].children[1].children[2]),Reticulum.remove(e.parent.parent.parent.children[3].children[1].children[2]),Reticulum.remove(e.parent.parent.parent.children[4].children[1].children[2]),Reticulum.remove(e.parent.parent.parent.children[5].children[1].children[2]),o(s.children[3]),o(s.children[4]),o(s.children[5]),o(s.children[2]),setTimeout(function(){a(s.children[3],"To loop a sound, first look at it,","then select a tempo for the loop."),a(s.children[4],"To loop a sound, first look at it,","then select a tempo for the loop."),a(s.children[5],"To loop a sound, first look at it,","then select a tempo for the loop."),a(s.children[2],"To loop a sound, first look at it,","then select a tempo for the loop.")},1500)}var s=new THREE.Group;s.name="tutorial";var l=0,d=new THREE.HemisphereLight(8685445,3947833,2);s.add(d);var h=new THREE.HemisphereLight(14649529,2631720,0);s.add(h);var p=new THREE.DirectionalLight(16777215,0);p.position.set(0,-10,0),scene.add(p),d=new THREE.DirectionalLight(16777215,0),d.position.copy(camera.position),scene.add(d);for(var u=0;4>u;u++){var E=new THREE.Group;E.position.z=-1,s.add(E);var m=new THREE.CircleGeometry(.07,50),T=new THREE.MeshBasicMaterial({color:16777215,transparent:!0,opacity:1}),f=new THREE.Mesh(m,T);f.position.z=.02,f.position.y=-.13,E.add(f);var v=new THREE.PlaneGeometry(.1,.08),w=new THREEx.DynamicTexture(250,200);w.context.font="60px 'source-sans-pro'",w.context.strokeStyle="#8500ff",w.drawText("Start",void 0,115,"#8500ff");var x=new THREE.MeshBasicMaterial({map:w.texture,transparent:!0,opacity:1}),y=new THREE.Mesh(v,x);y.position.z=.01,f.add(y);var R=new THREE.Group;R.name="skip";var H=new THREE.MeshBasicMaterial({color:16777215,transparent:!0,opacity:0}),z=new THREE.CircleGeometry(.05,50),M=new THREE.Mesh(z,H);M.position.z=.02,M.position.y=-.13,M.position.x=.15,R.add(M),E.add(R);var b=32,G=.05,g=new THREE.Geometry,N=new THREE.LineBasicMaterial({color:16777215,linewidth:2,transparent:!0});N.depthTest=!1;for(var U=0;b>=U;U++){var W=U/b*Math.PI*2;g.vertices.push(new THREE.Vector3(Math.cos(W)*G,Math.sin(W)*G,0))}var k=new THREE.Line(g,N);k.position.z=.02,k.position.y=-.13,k.position.x=.15,R.add(k);var O=new THREEx.DynamicTexture(250,200);O.context.font="50px 'source-sans-pro'",O.context.strokeStyle="#ffffff",O.drawText("skip",void 0,115,"#ffffff");var C=new THREE.MeshBasicMaterial({map:O.texture,transparent:!0,opacity:1});C.color.r=255,C.color.g=255,C.color.b=255;var D=new THREE.Mesh(v,C);D.scale.set(1.2,1.2,1.2),D.position.z=.01,M.add(D);var B=new THREE.PlaneGeometry(.2,.08),S=new THREEx.DynamicTexture(2500,1e3);S.context.font="1000px 'fira-sans-2'",S.context.strokeStyle="#ffffff",S.drawText("stitch",void 0,900,"#ffffff");var L=new THREE.MeshBasicMaterial({map:S.texture,transparent:!0}),V=new THREE.Mesh(B,L);V.material.color.r=255,V.material.color.g=255,V.material.color.b=255,V.position.z=.15,V.position.y=.13,E.add(V);var j=new THREE.PlaneGeometry(.4,.15),I=new THREE.MeshBasicMaterial({transparent:!0,opacity:0}),P=new THREE.Mesh(j,I);P.position.z=.05,P.position.y=.03,E.add(P);var F=new THREE.PlaneGeometry(.4,.15),Y=new THREEx.DynamicTexture(2500,1e3);Y.context.font="150px 'source-sans-pro'",Y.context.strokeStyle="#ffffff",Y.drawText("Look at the button to start the tutorial",void 0,600,"white");var A=new THREE.MeshBasicMaterial({map:Y.texture,transparent:!0}),q=new THREE.Mesh(F,A);q.material.color.r=255,q.material.color.g=255,q.material.color.b=255,q.position.z=.01,P.add(q);var J=0;Reticulum.add(f,{clickCancelFuse:!1,reticleHoverColor:8716543,fuseVisible:!0,fuseDuration:1.5,fuseColor:8716543,onGazeOver:function(){0==J&&e(this)},onGazeOut:function(){0==J&&n(this)},onGazeLong:function(){0==J&&(J=1,r(this))}});var J=0;Reticulum.add(M,{clickCancelFuse:!1,reticleHoverColor:8716543,fuseVisible:!0,fuseDuration:1.5,fuseColor:8716543,onGazeOver:function(){0==J&&t(this)},onGazeOut:function(){0==J&&i(this)},onGazeLong:function(){0==J&&(J=1,o(s.children[3]),o(s.children[4]),o(s.children[5]),o(s.children[2]),setTimeout(function(){Reticulum.remove(s.children[3].children[0]),Reticulum.remove(s.children[4].children[0]),Reticulum.remove(s.children[5].children[0]),Reticulum.remove(s.children[2].children[0]),Reticulum.remove(s.children[3].children[1].children[0]),Reticulum.remove(s.children[4].children[1].children[0]),Reticulum.remove(s.children[5].children[1].children[0]),Reticulum.remove(s.children[2].children[1].children[0])},500),setTimeout(function(){scene.step=0,s.remove(s.children[2]),s.remove(s.children[3]),s.remove(s.children[4]),s.remove(s.children[5]),drawApp()},1e3))}}),1==u&&(E.position.z=0,E.position.x=1,E.rotation.y=-1.5708),2==u&&(E.position.z=0,E.position.x=-1,E.rotation.y=1.5708),3==u&&(E.position.z=1,E.rotation.y=3.14159)}scene.add(s)}function createTutTempoMenu(e){function n(e){var n={x:1},t=new TWEEN.Tween(n).to({x:.01},500),i={z:-3.14159},r=new TWEEN.Tween(i).to({z:0},500),o={y:.5},a=new TWEEN.Tween(o).to({y:0},500),c={x:.5},s=new TWEEN.Tween(c).to({x:0},500),l={y:-.5},d=new TWEEN.Tween(l).to({y:0},500),h={x:-.5},p=new TWEEN.Tween(h).to({x:0},500);t.onUpdate(function(){e.children[0].scale.set(n.x,n.x,n.x),e.children[1].scale.set(n.x,n.x,n.x),e.children[2].scale.set(n.x,n.x,n.x),e.children[3].scale.set(n.x,n.x,n.x)}),r.onUpdate(function(){e.rotation.z=i.z}),r.start(),a.onUpdate(function(){e.children[0].position.y=o.y}),a.start(),s.onUpdate(function(){e.children[1].position.x=c.x}),s.start(),d.onUpdate(function(){e.children[2].position.y=l.y}),d.start(),p.onUpdate(function(){e.children[3].position.x=h.x}),p.start(),setTimeout(function(){e.children[0].visible=!1,e.children[1].visible=!1,e.children[2].visible=!1,e.children[3].visible=!1},500)}for(var t=window[e.sound],i=new THREE.Group,r=0;4>r;r++){var o=new THREE.CircleGeometry(.2,32),a=new THREE.MeshBasicMaterial({color:8716543,transparent:!0,opacity:.75}),c=new THREE.Mesh(o,a);c.buttonId=r;var s=new THREE.CircleGeometry(.033,32),l=new THREE.MeshBasicMaterial({color:16777215,transparent:!0,opacity:.75}),d=new THREE.Mesh(s,l);d.scale.set;var h=new THREE.Group;switch(r){case 0:d.position.y=-.03;break;case 1:var p=new THREE.Mesh(s,l);d.position.x=-.08,p.position.x=.04,h.add(p);break;case 2:var p=new THREE.Mesh(s,l),u=new THREE.Mesh(s,l);d.position.y=.08,p.position.x=-.07,u.position.x=.07,p.position.y=-.02,u.position.y=-.02,h.add(p),h.add(u);break;case 3:var p=new THREE.Mesh(s,l),u=new THREE.Mesh(s,l),E=new THREE.Mesh(s,l);d.position.x=-.07,p.position.x=.07,u.position.y=-.07,E.position.y=.07,h.position.x=.02,h.add(p),h.add(u),h.add(E)}h.add(d),h.position.z=.1,c.add(h),Reticulum.add(c,{onGazeOver:function(){if(i.parent.tempoVisible){this.parent.parent.hovered=!0;var e={x:1,y:1,a:1},n=new TWEEN.Tween(e).to({x:1.4,y:1.4,a:1},750).easing(TWEEN.Easing.Elastic.Out),t=this;n.onUpdate(function(){t.scale.x=e.x,t.scale.y=e.y,t.material.opacity=e.a}),n.start()}},onGazeOut:function(){if(this.parent.parent.hovered=!1,i.parent.tempoVisible){var e={x:1.4,y:1.4,a:1},n=new TWEEN.Tween(e).to({x:1,y:1,a:1},750).easing(TWEEN.Easing.Elastic.Out),t=this;n.onUpdate(function(){t.scale.x=e.x,t.scale.y=e.y,t.material.opacity=e.a}),n.start()}},onGazeLong:function(){n(this.parent.parent.children[2]),playLoopedSound(t,this)}}),i.add(c)}e.add(i),e.hasTempo=!0}
var isChromium=window.chrome,winNav=window.navigator,vendorName=winNav.vendor,isOpera=winNav.userAgent.indexOf("OPR")>-1,isIEedge=winNav.userAgent.indexOf("Edge")>-1,isIOSChrome=winNav.userAgent.match("CriOS");isIOSChrome?$("body").addClass("notChrome"):null!==isChromium&&void 0!==isChromium&&"Google Inc."===vendorName&&0==isOpera&&0==isIEedge||$("body").addClass("notChrome"),$(".homeLink").hover(function(){$("body").toggleClass("homeLink--Hovered")}),$(".homeLink").click(function(n){n.preventDefault(),$("body").addClass("homeLink--clicked"),setTimeout(function(){window.location.href="?p=home"},1e3)});for(var i=0;1>i;i++)setTimeout(function(){$("body").hasClass("pace-done")?setTimeout(function(){$(".app").addClass("maskOff")},1100):i=0},1500);window.addEventListener("touchstart",function(){var n=webaudio._ctx.createBuffer(1,1,22050),a=webaudio._ctx.createBufferSource();a.buffer=n,a.connect(webaudio._ctx.destination),a.noteOn(0)},!1),$(".audio-btn").click(function(){$(".audio-btn").toggleClass("muted"),webaudio._muted?(webaudio._muted=!1,sound1._gainNode.gain.value=1,sound2._gainNode.gain.value=1,sound3._gainNode.gain.value=1,sound4._gainNode.gain.value=1,sound5._gainNode.gain.value=1,sound6._gainNode.gain.value=1,sound7._gainNode.gain.value=1,sound8._gainNode.gain.value=1,sound9._gainNode.gain.value=1,sound10._gainNode.gain.value=1,sound11._gainNode.gain.value=1,sound12._gainNode.gain.value=1,sound13._gainNode.gain.value=1,sound14._gainNode.gain.value=1,sound15._gainNode.gain.value=1,sound16._gainNode.gain.value=1,sound17._gainNode.gain.value=1,sound18._gainNode.gain.value=1,sound19._gainNode.gain.value=1,sound20._gainNode.gain.value=1,sound21._gainNode.gain.value=1,sound22._gainNode.gain.value=1,sound23._gainNode.gain.value=1,sound24._gainNode.gain.value=1,sound25._gainNode.gain.value=1,sound26._gainNode.gain.value=1,sound27._gainNode.gain.value=1,sound28._gainNode.gain.value=1,sound29._gainNode.gain.value=1,sound30._gainNode.gain.value=1,sound31._gainNode.gain.value=1,sound32._gainNode.gain.value=1,sound33._gainNode.gain.value=1,sound34._gainNode.gain.value=1,sound35._gainNode.gain.value=1,sound36._gainNode.gain.value=1,sound37._gainNode.gain.value=1,sound38._gainNode.gain.value=1,sound39._gainNode.gain.value=1,sound40._gainNode.gain.value=1,sound41._gainNode.gain.value=1,sound42._gainNode.gain.value=1,sound43._gainNode.gain.value=1,sound44._gainNode.gain.value=1,sound45._gainNode.gain.value=1,sound46._gainNode.gain.value=1,sound47._gainNode.gain.value=1,sound48._gainNode.gain.value=1,sound49._gainNode.gain.value=1,sound50._gainNode.gain.value=1,sound51._gainNode.gain.value=1,sound52._gainNode.gain.value=1,sound53._gainNode.gain.value=1,sound54._gainNode.gain.value=1,sound55._gainNode.gain.value=1,sound56._gainNode.gain.value=1,sound57._gainNode.gain.value=1,sound58._gainNode.gain.value=1,sound59._gainNode.gain.value=1,sound60._gainNode.gain.value=1,sound61._gainNode.gain.value=1,sound62._gainNode.gain.value=1,sound63._gainNode.gain.value=1,sound64._gainNode.gain.value=1,sound65._gainNode.gain.value=1,sound66._gainNode.gain.value=1,sound67._gainNode.gain.value=1,sound68._gainNode.gain.value=1,sound69._gainNode.gain.value=1,sound70._gainNode.gain.value=1,sound71._gainNode.gain.value=1,sound72._gainNode.gain.value=1,sound73._gainNode.gain.value=1,sound74._gainNode.gain.value=1,sound75._gainNode.gain.value=1,sound76._gainNode.gain.value=1,sound77._gainNode.gain.value=1,sound78._gainNode.gain.value=1,sound79._gainNode.gain.value=1,sound80._gainNode.gain.value=1,sound81._gainNode.gain.value=1,sound82._gainNode.gain.value=1,sound83._gainNode.gain.value=1,sound84._gainNode.gain.value=1,sound85._gainNode.gain.value=1,sound86._gainNode.gain.value=1,sound87._gainNode.gain.value=1,sound88._gainNode.gain.value=1,sound89._gainNode.gain.value=1,sound90._gainNode.gain.value=1,sound91._gainNode.gain.value=1,sound92._gainNode.gain.value=1,sound93._gainNode.gain.value=1):(webaudio._muted=!0,sound1._gainNode.gain.value=0,sound2._gainNode.gain.value=0,sound3._gainNode.gain.value=0,sound4._gainNode.gain.value=0,sound5._gainNode.gain.value=0,sound6._gainNode.gain.value=0,sound7._gainNode.gain.value=0,sound8._gainNode.gain.value=0,sound9._gainNode.gain.value=0,sound10._gainNode.gain.value=0,sound11._gainNode.gain.value=0,sound12._gainNode.gain.value=0,sound13._gainNode.gain.value=0,sound14._gainNode.gain.value=0,sound15._gainNode.gain.value=0,sound16._gainNode.gain.value=0,sound17._gainNode.gain.value=0,sound18._gainNode.gain.value=0,sound19._gainNode.gain.value=0,sound20._gainNode.gain.value=0,sound21._gainNode.gain.value=0,sound22._gainNode.gain.value=0,sound23._gainNode.gain.value=0,sound24._gainNode.gain.value=0,sound25._gainNode.gain.value=0,sound26._gainNode.gain.value=0,sound27._gainNode.gain.value=0,sound28._gainNode.gain.value=0,sound29._gainNode.gain.value=0,sound30._gainNode.gain.value=0,sound31._gainNode.gain.value=0,sound32._gainNode.gain.value=0,sound33._gainNode.gain.value=0,sound34._gainNode.gain.value=0,sound35._gainNode.gain.value=0,sound36._gainNode.gain.value=0,sound37._gainNode.gain.value=0,sound38._gainNode.gain.value=0,sound39._gainNode.gain.value=0,sound40._gainNode.gain.value=0,sound41._gainNode.gain.value=0,sound42._gainNode.gain.value=0,sound43._gainNode.gain.value=0,sound44._gainNode.gain.value=0,sound45._gainNode.gain.value=0,sound46._gainNode.gain.value=0,sound47._gainNode.gain.value=0,sound48._gainNode.gain.value=0,sound49._gainNode.gain.value=0,sound50._gainNode.gain.value=0,sound51._gainNode.gain.value=0,sound52._gainNode.gain.value=0,sound53._gainNode.gain.value=0,sound54._gainNode.gain.value=0,sound55._gainNode.gain.value=0,sound56._gainNode.gain.value=0,sound57._gainNode.gain.value=0,sound58._gainNode.gain.value=0,sound59._gainNode.gain.value=0,sound60._gainNode.gain.value=0,sound61._gainNode.gain.value=0,sound62._gainNode.gain.value=0,sound63._gainNode.gain.value=0,sound64._gainNode.gain.value=0,sound65._gainNode.gain.value=0,sound66._gainNode.gain.value=0,sound67._gainNode.gain.value=0,sound68._gainNode.gain.value=0,sound69._gainNode.gain.value=0,sound70._gainNode.gain.value=0,sound71._gainNode.gain.value=0,sound72._gainNode.gain.value=0,sound73._gainNode.gain.value=0,sound74._gainNode.gain.value=0,sound75._gainNode.gain.value=0,sound76._gainNode.gain.value=0,sound77._gainNode.gain.value=0,sound78._gainNode.gain.value=0,sound79._gainNode.gain.value=0,sound80._gainNode.gain.value=0,sound81._gainNode.gain.value=0,sound82._gainNode.gain.value=0,sound83._gainNode.gain.value=0,sound84._gainNode.gain.value=0,sound85._gainNode.gain.value=0,sound86._gainNode.gain.value=0,sound87._gainNode.gain.value=0,sound88._gainNode.gain.value=0,sound89._gainNode.gain.value=0,sound90._gainNode.gain.value=0,sound91._gainNode.gain.value=0,sound92._gainNode.gain.value=0,sound93._gainNode.gain.value=0)});